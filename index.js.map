{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"54654074-13d582212f11236cf0611e9cc\";\n\nexport function getImagesByQuery(query) {\nreturn axios.get(BASE_URL, { params: {\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true\n    }})\n  .then(function (response) {\n      if (!response.data.hits.length) {\n          iziToast.error({\n              message: 'Sorry, there are no images matching your search query. Please try again!',\n              position: 'topRight'\n          });\n      }; \n      return response.data;\n  })\n  .catch(function (error) {\n    console.log(error);\n    iziToast.error({ \n            message: \"API error.\",\n            position: 'topRight'\n        })\n  })\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nexport function createGallery(images) {\n    const galleryMarkup = images\n    .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n        return (`<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img\n                    class=\"gallery-image\"\n                    src=\"${webformatURL}\"\n                    alt=\"${tags}\"\n                />\n                <ul class=\"card-info\">\n                    <li>\n                        <div>Likes</div>\n                        <div>${likes}</div>\n                    </li>\n                    <li> <div>Views</div>\n                        <div>${views}</div>\n                    </li>\n                    <li> <div>Comments</div>\n                        <div>${comments}</div>\n                    </li>\n                    <li> <div>Downloads</div>\n                        <div>${downloads}</div>\n                    </li>\n                </ul>\n            </a>\n        </li>`)\n    })\n    .join(\"\");\n\n\n    gallery.insertAdjacentHTML('beforeend', galleryMarkup);\n\n\n\n    const modalWindow = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n    });\n    modalWindow.refresh();\n};\n\n\n\nexport function clearGallery() {\n    gallery.innerHTML = \"\";\n};\n\nexport function showLoader() {\n   loader.classList.remove(\"hidden\");\n};\n\nexport function hideLoader() {\n    loader.classList.add(\"hidden\");\n};\n\n// webformatURL — посилання на маленьке зображення для списку карток у галереї\n// largeImageURL — посилання на велике зображення для модального вікна\n// tags — рядок з описом зображення. Підійде для атрибута alt\n// likes — кількість вподобайок\n// views — кількість переглядів\n// comments — кількість коментарів\n// downloads — кількість завантажень\n","import { getImagesByQuery } from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".form\");\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    const value = event.target.elements[\"search-text\"].value;\n    if (!value.trim().length) {\n        iziToast.error({ \n            message: \"The field can't be empty!\",\n            position: 'topRight'\n        })\n        return \n    }\n    clearGallery();\n    showLoader();\n    getImagesByQuery(value).then((data) => {\n        if (!data.hits.length) {\n               iziToast.error({\n              message: 'Sorry, there are no images matching your search query. Please try again!',\n              position: 'topRight'\n          });\n            return\n        }\n        createGallery(data.hits)\n    }).catch((e) => {\n        console.log(e);\n        \n        iziToast.error({ \n            message: \"API error.\",\n            position: 'topRight'\n        })\n    }).finally(() => {\n        hideLoader();\n        event.target.reset();\n    }); \n})"],"names":["BASE_URL","API_KEY","getImagesByQuery","query","axios","response","iziToast","error","gallery","loader","createGallery","images","galleryMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","clearGallery","showLoader","hideLoader","form","event","value","data","e"],"mappings":"owBAIA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACxC,OAAOC,EAAM,IAAIJ,EAAU,CAAE,OAAQ,CACjC,IAAKC,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAK,CAAC,EACH,KAAK,SAAUE,EAAU,CACtB,OAAKA,EAAS,KAAK,KAAK,QACpBC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UACxB,CAAW,EAEED,EAAS,IACtB,CAAG,EACA,MAAM,SAAUE,EAAO,CACtB,QAAQ,IAAIA,CAAK,EACjBD,EAAS,MAAM,CACP,QAAS,aACT,SAAU,UACtB,CAAS,CACT,CAAG,CACH,CC5BA,MAAME,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAgBD,EACrB,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KACvD;AAAA,4CAC4BL,CAAa;AAAA;AAAA;AAAA,2BAG9BD,CAAY;AAAA,2BACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,+BAKAC,CAAK;AAAA;AAAA;AAAA,+BAGLC,CAAK;AAAA;AAAA;AAAA,+BAGLC,CAAQ;AAAA;AAAA;AAAA,+BAGRC,CAAS;AAAA;AAAA;AAAA;AAAA,cAKnC,EACA,KAAK,EAAE,EAGRX,EAAQ,mBAAmB,YAAaI,CAAa,EAIjC,IAAIQ,EAAe,aAAc,CACjD,aAAc,MACd,aAAc,GACtB,CAAK,EACW,QAAO,CACvB,CAIO,SAASC,GAAe,CAC3Bb,EAAQ,UAAY,EACxB,CAEO,SAASc,GAAa,CAC1Bb,EAAO,UAAU,OAAO,QAAQ,CACnC,CAEO,SAASc,GAAa,CACzBd,EAAO,UAAU,IAAI,QAAQ,CACjC,CCvDA,MAAMe,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAWC,GAAU,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAAQD,EAAM,OAAO,SAAS,aAAa,EAAE,MACnD,GAAI,CAACC,EAAM,KAAM,EAAC,OAAQ,CACtBpB,EAAS,MAAM,CACX,QAAS,4BACT,SAAU,UACtB,CAAS,EACD,MACH,CACDe,IACAC,IACApB,EAAiBwB,CAAK,EAAE,KAAMC,GAAS,CACnC,GAAI,CAACA,EAAK,KAAK,OAAQ,CAChBrB,EAAS,MAAM,CAChB,QAAS,2EACT,SAAU,UACxB,CAAW,EACC,MACH,CACDI,EAAciB,EAAK,IAAI,CAC/B,CAAK,EAAE,MAAOC,GAAM,CACZ,QAAQ,IAAIA,CAAC,EAEbtB,EAAS,MAAM,CACX,QAAS,aACT,SAAU,UACtB,CAAS,CACT,CAAK,EAAE,QAAQ,IAAM,CACbiB,IACAE,EAAM,OAAO,OACrB,CAAK,CACL,CAAC"}